import{C as oe,_ as ve,A as He,a as Be,S as Fe,g as I,b as s,c as Z,d as u,e as ee,p as _,s as Ge,G as b,T as Le}from"./bundle2.js";class Ne{constructor(a=null){this._parallaxChildren=a||[]}addParallaxChild(a){this._parallaxChildren.push(a)}parallaxChildren(){return this._parallaxChildren}moveX(a){for(const t of this._parallaxChildren)t instanceof d&&t.moveParallaxSpriteX(a)}}class d extends oe{constructor(a,t=1){super(),this._parallaxFactor=t,this.sprite=a,a&&this.addChild(this.sprite)}moveParallaxSpriteX(a){this.x+=a*this._parallaxFactor}}async function ke(e){var a;const t={importPixi:!1,...e};t.app&&(t.renderer=t.app.renderer,t.stage=t.app.stage),t.importPixi&&!t.pixi&&(t.pixi=await ve(()=>import("./bundle2.js").then(o=>o.w),[])),window.__PIXI_DEVTOOLS__={...window.__PIXI_DEVTOOLS__||{},app:t.app,stage:t.stage,renderer:t.renderer,extensions:[...((a=window.__PIXI_DEVTOOLS__)==null?void 0:a.extensions)||[],...t.extensions||[]],plugins:{}}}const v=[],te=[16711757,16753408,16772135,58422,2731519,8599551,16777215,0];let ae=!1,X=!1;function ne(e){const a=Math.random()*15+5,t=te[Math.floor(Math.random()*te.length)],o=new b().rect(0,0,a,a).fill(t);o.zIndex=100,o.x=Math.random()*e.screen.width,o.y=-a,console.log("initial x "+o.x),console.log("initial y "+o.y),o.vx=(Math.random()-.5)*2,o.vy=Math.random()*2+1,o.rotationSpeed=(Math.random()-.5)*.1,e.stage.addChild(o),v.push(o)}function Me(e){ae||(console.log("starting"),e.ticker.add(a=>{const o=Math.sin(e.ticker.lastTime*.001)*.01+(Math.random()-.5)*.02;for(let g=v.length-1;g>=0;g--){const n=v[g];n.vy+=.05*a.deltaTime,n.vx+=o*a.deltaTime,n.x+=n.vx*a.deltaTime,n.y+=n.vy*a.deltaTime,console.log("delta"+a.deltaTime),console.log(n.x),console.log(n.y),n.rotation+=n.rotationSpeed*a.deltaTime,(n.y>e.screen.height+10||n.x<-10||n.x>e.screen.width+10)&&(e.stage.removeChild(n),n.destroy(),v.splice(g,1))}X&&Math.random()<.4*a.deltaTime&&ne(e)}),ae=!0);for(let a=0;a<75;a++)ne(e);X=!0}function Xe(){X=!1}function Ue(e,a,t){const n=new b().rect(-e.texture.width/2,-e.texture.height/2,e.texture.width,e.texture.height).stroke({width:64,color:16777215,join:"round"}),H=new b().rect(-400/2,e.texture.height/2,400,1e4).fill(16777215),m=new Le({text:a,style:{fill:"#000000",fontSize:20*(1/t),align:"center",wordWrap:!0,wordWrapWidth:e.texture.width+64-64},anchor:{x:.5,y:0}}),B=new b().rect(-m.width/2+-64,0,m.width+64*2,m.height+64*2).fill(16777215),w=new oe;w.anchor={x:.5,y:0},w.y+=e.texture.height/2,m.y+=64,w.addChild(B),w.addChild(m),e.addChild(n),e.addChild(H),e.addChild(w)}(async()=>{const e=new He;let a=document.getElementById("stage");await e.init({background:"#1099bb",resizeTo:a,autoDensity:!0,antialiasing:!1,hello:!0}),ke({app:e}),console.log("Device Pixel Ratio:",window.devicePixelRatio),console.log("PixiJS Renderer Resolution:",e.renderer.resolution),console.log("App.Screen.Height:",e.screen.height),console.log("App.Screen.width:",e.screen.width),a.appendChild(e.canvas);const t=await Be.load("/assets/sprites-sheet.json");t._frameKeys.map(h=>{t.textures[h].baseTexture.scaleMode=Fe.NEAREST});const o=I(t,"rachel_idle"),g=I(t,"rachel_walk"),n=I(t,"ben_idle"),H=I(t,"ben_walk"),m=new s(t.textures["formal1-0"]),B=new s(t.textures["camp2-0"]),w=new s(t.textures["bus3-0"]),ie=new s(t.textures["ben_grad-0"]),se=new s(t.textures["rachel_grad-0"]),re=new s(t.textures["park6-0"]),le=new s(t.textures["hayes7-0"]),ce=new s(t.textures["hayesformal8-0"]),de=new s(t.textures["mattress9-0"]),he=new s(t.textures["pergola10-0"]),fe=new s(t.textures["proposal11-0"]),xe=new s(t.textures["goodbye11-0"]),ue=new s(t.textures["europe-0"]),ge=t.textures["chicago-0"],me=t.textures["paintedladies-0"],we=t.textures["deering-0"],pe=t.textures["weber-0"],_e=t.textures["958-0"],F={idle:o,walking:g},G={idle:n,walking:H},r=new Ne,l=Z(F.idle,e),i=Z(G.idle,e),ye=[[m,"2017: Ben and Rachel meet at Northwestern (RIP La Mach)."],[B,"They go on a few adventures (including Ben’s first camping trip)."],[w,"They share a lot of laughs and make lots of good memz."],[ie,"In 2019, Ben graduates and moves to San Francsico."],[se,"2020: Rachel graduates and “temporarily” moves to SF because of COVID."],[re,"Lots of good park hangs during the Pandemic."],[le,"2021: Ben and Rachel move into the Hayes House with 7 other friends. Chaos and lifelong friendships ensue. "],[ue,"2022: The couple travel through Europe for 3 months, London, Paris, Barcelona."],[ce,"The Era of the Hayes House comes to a close."],[de,"Late 2023, Ben and Rachel move in together, carrying their mattress across Alamo Square."],[he,"In Rachel and Ben's new home, a pergola is built. Only takes a few weeks and a lot of free labor from friends."],[fe,"In December of 2023, the Perg Proposal happens. It's a perfect moment in the new home captured by a few sneaky hidden cameras."],[xe,"JUST THE START: We’re so excited to celebrate with you all at Sato Somer Camp <3"]],T=u(ge,e),E=u(me,e),A=u(pe,e),R=u(we,e),P=u(_e,e),y=u(t.textures["eiffel-0"],e),S=u(t.textures["bushes-0"],e),f=ee(t.textures["grassy-0"],e),U=ee(t.textures["sky-0"],e),D=u(t.textures["perg-0"],e);document.documentElement.scrollHeight-document.documentElement.clientHeight;const Se=document.getElementById("preamble").clientHeight,Ce=document.getElementById("transition-id").clientHeight,Te=.3,x=.2,Y=.23,K=.25,Ee=.02,c=e.screen.height*.87,L=129;f.y=c-L*f.tileScale.y,T.y=c-T.height,T.x=e.screen.width+_(100,e),E.y=c-E.height,E.x=e.screen.width+_(600,e),A.x=e.screen.width,A.y=c-A.height,R.x=e.screen.width+_(40,e),R.y=c-R.height,y.anchor.set(.5,0),S.anchor.set(.5,0),y.y=c-y.height,S.y=c-S.height;const V=e.screen.width+_(1180,e);y.x=V;const Ae=(V-e.screen.width/2)/x;S.x=e.screen.width/2+Ae*(x+.02),P.x=e.screen.width+_(1280,e),P.y=c-P.height,D.x=e.screen.width+_(1550,e),D.y=c-D.height+60,r.addParallaxChild(new d(T,x)),r.addParallaxChild(new d(E,x)),r.addParallaxChild(new d(R,Y)),r.addParallaxChild(new d(A,Y+.03)),r.addParallaxChild(new d(y,x)),r.addParallaxChild(new d(S,x+.02)),r.addParallaxChild(new d(P,x)),r.addParallaxChild(new d(D,x));const W=ye.map((h,C)=>{let p=h[0],be=h[1];p.anchor.set(.5);let $=null;$=Ge(.4,p,e),p.x=(C+1)*_(180,e)+e.screen.width,p.y=e.screen.height/2.7;const Q=new d(p,K);return r.addParallaxChild(Q),Ue(p,be,$),Q});let Re=W.slice(-1)[0].sprite;W.slice(-1)[0].sprite;const Pe=Re.x,De=e.screen.width/2,Oe=(Pe-De)/K,Ie=document.getElementById("scroll-buffer");Ie.style.height=`${Oe}px`;const N=.2,z=145;l.anchor.set(0,1),l.y=c-L*f.tileScale.y+z*f.tileScale.y+20,l.x=e.screen.width*.08,e.screen.height>e.screen.width&&(l.x=e.screen.width*.03),l.animationSpeed=N,l.play(),i.anchor.set(0,1),i.y=c-L*f.tileScale.y+z*f.tileScale.y,i.x=e.screen.width*.12,e.screen.height>e.screen.width&&(i.x=e.screen.width*.2),i.animationSpeed=N-.05,i.play(),i.animationSpeed=N-.05,i.play(),e.stage.sortableChildren=!0,e.stage.addChild(U);for(const h of r.parallaxChildren())e.stage.addChild(h);e.stage.addChild(f),e.stage.addChild(i),e.stage.addChild(l);let k=0,j=0,q=null,M=!1,O=!1;requestAnimationFrame(J);function J(){k=window.scrollY;const h=Math.max(0,k-Se-Ce),C=h-j;j=h,f.tilePosition.x-=C*Te,U.tilePosition.x-=C*Ee,r.moveX(-C),k+window.innerHeight>=document.documentElement.scrollHeight-5?O||(console.log("Starting confetti effect"),Me(e),O=!0):O&&(console.log("Stopping confetti production"),Xe(),O=!1)}window.addEventListener("scroll",()=>{clearTimeout(q),M||(l.textures=F.walking,l.play(),i.textures=G.walking,i.play(),M=!0),q=setTimeout(()=>{l.textures=F.idle,l.play(),i.textures=G.idle,i.play(),M=!1},150),requestAnimationFrame(J)})})();
