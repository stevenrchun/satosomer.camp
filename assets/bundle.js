import{C as V,_ as pe,A as we,a as _e,S as fe,g as C,b as n,c as U,d as c,e as M,p as d,s as me,G as N,T as Ce}from"./bundle2.js";class ye{constructor(a=null){this._parallaxChildren=a||[]}addParallaxChild(a){this._parallaxChildren.push(a)}parallaxChildren(){return this._parallaxChildren}moveX(a){for(const t of this._parallaxChildren)t instanceof l&&t.moveParallaxSpriteX(a)}}class l extends V{constructor(a,t=1){super(),this._parallaxFactor=t,this._sprite=a,a&&this.addChild(this._sprite)}moveParallaxSpriteX(a){this.x+=a*this._parallaxFactor}}async function Se(e){var a;const t={importPixi:!1,...e};t.app&&(t.renderer=t.app.renderer,t.stage=t.app.stage),t.importPixi&&!t.pixi&&(t.pixi=await pe(()=>import("./bundle2.js").then(_=>_.w),[])),window.__PIXI_DEVTOOLS__={...window.__PIXI_DEVTOOLS__||{},app:t.app,stage:t.stage,renderer:t.renderer,extensions:[...((a=window.__PIXI_DEVTOOLS__)==null?void 0:a.extensions)||[],...t.extensions||[]],plugins:{}}}function Te(e,a,t){const y=new N().rect(-e.texture.width/2,-e.texture.height/2,e.texture.width,e.texture.height).stroke({width:64,color:16777215,join:"round"}),S=new N().rect(-400/2,e.texture.height/2,400,1e4).fill(16777215),h=new Ce({text:a,style:{fill:"#000000",fontSize:20*(1/t),align:"center",wordWrap:!0,wordWrapWidth:e.texture.width+64-64},anchor:{x:.5,y:0}}),T=new N().rect(-h.width/2+-64,0,h.width+64*2,h.height+64*2).fill(16777215),u=new V;u.anchor={x:.5,y:0},u.y+=e.texture.height/2,h.y+=64,u.addChild(T),u.addChild(h),e.addChild(y),e.addChild(S),e.addChild(u)}(async()=>{const e=new we;let a=document.getElementById("stage");await e.init({background:"#1099bb",resizeTo:a,autoDensity:!0,antialiasing:!1,hello:!0}),Se({app:e}),console.log("Device Pixel Ratio:",window.devicePixelRatio),console.log("PixiJS Renderer Resolution:",e.renderer.resolution),console.log("App.Screen.Height:",e.screen.height),console.log("App.Screen.width:",e.screen.width),a.appendChild(e.canvas);const t=await _e.load("/assets/sprites-sheet.json");t._frameKeys.map(g=>{t.textures[g].baseTexture.scaleMode=fe.NEAREST});const _=C(t,"rachel_idle"),F=C(t,"rachel_walk"),y=C(t,"ben_idle"),S=C(t,"ben_walk"),h=new n(t.textures["formal1-0"]),T=new n(t.textures["camp2-0"]),u=new n(t.textures["bus3-0"]),z=new n(t.textures["ben_grad-0"]),j=new n(t.textures["rachel_grad-0"]),q=new n(t.textures["park6-0"]),J=new n(t.textures["hayes7-0"]),Q=new n(t.textures["hayesformal8-0"]),Z=new n(t.textures["mattress9-0"]),$=new n(t.textures["pergola10-0"]),ee=new n(t.textures["proposal11-0"]),te=new n(t.textures["goodbye11-0"]),ae=new n(t.textures["europe-0"]),ne=t.textures["chicago-0"],se=t.textures["paintedladies-0"],re=t.textures["deering-0"],oe=t.textures["weber-0"],ie=t.textures["958-0"],A={idle:_,walking:F},P={idle:y,walking:S},s=new ye,r=U(A.idle,e),o=U(P.idle,e),le=[[h,"2017: Ben and Rachel meet at Northwestern (RIP La Mach)."],[T,"They go on a few adventures (including Ben’s first camping trip)."],[u,"They share a lot of laughs and made a lot of good memz."],[z,"In 2019, Ben graduates and moves to San Francsico."],[j,"2020: Rachel graduates and “temporarily” moves to SF because of COVID."],[q,"Lots of good park hangs during the Pandemic."],[J,"2021: Ben and Rachel moves into the Hayes House with 7 other friends. Chaos and lifelong friendships ensue. "],[ae,"2022: The couple travel through Europe for 3 months, London, Paris, Barcelona."],[Q,"The Era of Hayes House comes to a close."],[Z,"Late 2023, Ben and Rachel move in together, carrying their mattress across Alamo Square."],[$,"In Rachel and Ben's new home, a pergola is built. Only takes a few weeks and a lot of free labor from friends."],[ee,"In December of 2023, the Perg Prosposal happens. It's a perfect moment in the new home captured by a few sneaky hidden cameras."],[te,"We’re so excited to celebrate with you all at Sato Somer Camp <3"]],R=c(ne,e),E=c(se,e),I=c(oe,e),D=c(re,e),O=c(ie,e),b=c(t.textures["eiffel-0"],e),k=c(t.textures["bushes-0"],e),w=M(t.textures["grassy-0"],e),f=M(t.textures["sky-0"],e),L=c(t.textures["perg-0"],e),i=e.screen.height*2,de=.3,x=.2,G=.23,ce=.25,he=.02;w.y=30,R.y=-90,R.x=i+d(100,e),E.y=-100,E.x=i+d(600,e),I.x=i,I.y=e.screen.height*.45,D.x=i+d(40,e),D.y=e.screen.height*.35,b.y=-100,k.y=-110,b.x=i+d(1060,e),k.x=i+d(1060,e)+(i+d(1060,e))*.02+550,O.x=i+d(1280,e),O.y=e.screen.height*.23,L.x=i+d(1550,e),L.y=e.screen.height*.45,s.addParallaxChild(new l(R,x)),s.addParallaxChild(new l(E,x)),s.addParallaxChild(new l(D,G)),s.addParallaxChild(new l(I,G+.03)),s.addParallaxChild(new l(b,x)),s.addParallaxChild(new l(k,x+.02)),s.addParallaxChild(new l(O,x)),s.addParallaxChild(new l(L,x)),le.map((g,xe)=>{let p=g[0],ge=g[1];p.anchor.set(.5);let Y=null;Y=me(.4,p,e),p.x=(xe+1)*d(180,e)+i,p.y=e.screen.height/2.7;const W=new l(p,ce);return s.addParallaxChild(W),Te(p,ge,Y),W});const H=.2;r.anchor.set(0,1),r.y=e.screen.height*.97,r.x=e.screen.width*.08,e.screen.height>e.screen.width&&(r.x=e.screen.width*.03),r.animationSpeed=H,r.play(),o.anchor.set(0,1),o.y=e.screen.height*.95,o.x=e.screen.width*.12,e.screen.height>e.screen.width&&(o.x=e.screen.width*.2),o.animationSpeed=H-.05,o.play(),e.stage.addChild(f);for(const g of s.parallaxChildren())e.stage.addChild(g);e.stage.addChild(w),e.stage.addChild(o),e.stage.addChild(r);function ue(){w.width=e.screen.width,w.height=e.screen.height,f.width=e.screen.width,f.height=e.screen.height,B()}e.renderer.on("resize",ue),document.documentElement.scrollHeight-document.documentElement.clientHeight,document.getElementById("preamble").clientHeight;let X=0,m=0,K=null,v=!1;requestAnimationFrame(B);function B(){m=window.scrollY-X,X=window.scrollY,w.tilePosition.x-=m*de,f.tilePosition.x-=m*he,s.moveX(-m)}window.addEventListener("scroll",()=>{clearTimeout(K),v||(r.textures=A.walking,r.play(),o.textures=P.walking,o.play(),v=!0),K=setTimeout(()=>{r.textures=A.idle,r.play(),o.textures=P.idle,o.play(),v=!1},150),requestAnimationFrame(B)})})();
