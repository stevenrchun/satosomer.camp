import{C as Q,_ as Re,A as De,a as Pe,S as Ie,g as D,b as s,c as J,d as u,e as $,p as g,s as Oe,G,T as be}from"./bundle2.js";class ve{constructor(a=null){this._parallaxChildren=a||[]}addParallaxChild(a){this._parallaxChildren.push(a)}parallaxChildren(){return this._parallaxChildren}moveX(a){for(const t of this._parallaxChildren)t instanceof l&&t.moveParallaxSpriteX(a)}}class l extends Q{constructor(a,t=1){super(),this._parallaxFactor=t,this.sprite=a,a&&this.addChild(this.sprite)}moveParallaxSpriteX(a){this.x+=a*this._parallaxFactor}}async function ke(e){var a;const t={importPixi:!1,...e};t.app&&(t.renderer=t.app.renderer,t.stage=t.app.stage),t.importPixi&&!t.pixi&&(t.pixi=await Re(()=>import("./bundle2.js").then(y=>y.w),[])),window.__PIXI_DEVTOOLS__={...window.__PIXI_DEVTOOLS__||{},app:t.app,stage:t.stage,renderer:t.renderer,extensions:[...((a=window.__PIXI_DEVTOOLS__)==null?void 0:a.extensions)||[],...t.extensions||[]],plugins:{}}}function Be(e,a,t){const P=new G().rect(-e.texture.width/2,-e.texture.height/2,e.texture.width,e.texture.height).stroke({width:64,color:16777215,join:"round"}),I=new G().rect(-400/2,e.texture.height/2,400,1e4).fill(16777215),x=new be({text:a,style:{fill:"#000000",fontSize:20*(1/t),align:"center",wordWrap:!0,wordWrapWidth:e.texture.width+64-64},anchor:{x:.5,y:0}}),O=new G().rect(-x.width/2+-64,0,x.width+64*2,x.height+64*2).fill(16777215),p=new Q;p.anchor={x:.5,y:0},p.y+=e.texture.height/2,x.y+=64,p.addChild(O),p.addChild(x),e.addChild(P),e.addChild(I),e.addChild(p)}(async()=>{const e=new De;let a=document.getElementById("stage");await e.init({background:"#1099bb",resizeTo:a,autoDensity:!0,antialiasing:!1,hello:!0}),ke({app:e}),console.log("Device Pixel Ratio:",window.devicePixelRatio),console.log("PixiJS Renderer Resolution:",e.renderer.resolution),console.log("App.Screen.Height:",e.screen.height),console.log("App.Screen.width:",e.screen.width),a.appendChild(e.canvas);const t=await Pe.load("/assets/sprites-sheet.json");t._frameKeys.map(c=>{t.textures[c].baseTexture.scaleMode=Ie.NEAREST});const y=D(t,"rachel_idle"),L=D(t,"rachel_walk"),P=D(t,"ben_idle"),I=D(t,"ben_walk"),x=new s(t.textures["formal1-0"]),O=new s(t.textures["camp2-0"]),p=new s(t.textures["bus3-0"]),Z=new s(t.textures["ben_grad-0"]),ee=new s(t.textures["rachel_grad-0"]),te=new s(t.textures["park6-0"]),ae=new s(t.textures["hayes7-0"]),ne=new s(t.textures["hayesformal8-0"]),se=new s(t.textures["mattress9-0"]),re=new s(t.textures["pergola10-0"]),ie=new s(t.textures["proposal11-0"]),oe=new s(t.textures["goodbye11-0"]),le=new s(t.textures["europe-0"]),ce=t.textures["chicago-0"],de=t.textures["paintedladies-0"],he=t.textures["deering-0"],ue=t.textures["weber-0"],xe=t.textures["958-0"],b={idle:y,walking:L},v={idle:P,walking:I},r=new ve,i=J(b.idle,e),n=J(v.idle,e),pe=[[x,"2017: Ben and Rachel meet at Northwestern (RIP La Mach)."],[O,"They go on a few adventures (including Ben’s first camping trip)."],[p,"They share a lot of laughs and made a lot of good memz."],[Z,"In 2019, Ben graduates and moves to San Francsico."],[ee,"2020: Rachel graduates and “temporarily” moves to SF because of COVID."],[te,"Lots of good park hangs during the Pandemic."],[ae,"2021: Ben and Rachel moves into the Hayes House with 7 other friends. Chaos and lifelong friendships ensue. "],[le,"2022: The couple travel through Europe for 3 months, London, Paris, Barcelona."],[ne,"The Era of Hayes House comes to a close."],[se,"Late 2023, Ben and Rachel move in together, carrying their mattress across Alamo Square."],[re,"In Rachel and Ben's new home, a pergola is built. Only takes a few weeks and a lot of free labor from friends."],[ie,"In December of 2023, the Perg Prosposal happens. It's a perfect moment in the new home captured by a few sneaky hidden cameras."],[oe,"We’re so excited to celebrate with you all at Sato Somer Camp <3"]],S=u(ce,e),C=u(de,e),T=u(ue,e),A=u(he,e),E=u(xe,e),_=u(t.textures["eiffel-0"],e),m=u(t.textures["bushes-0"],e),d=$(t.textures["grassy-0"],e),H=$(t.textures["sky-0"],e),R=u(t.textures["perg-0"],e);document.documentElement.scrollHeight-document.documentElement.clientHeight;const ge=document.getElementById("preamble").clientHeight,we=document.getElementById("transition-id").clientHeight,_e=.3,h=.2,N=.23,X=.25,me=.02,o=e.screen.height*.87,k=127;d.y=o-k*d.tileScale.y,S.y=o-S.height,S.x=e.screen.width+g(100,e),C.y=o-C.height,C.x=e.screen.width+g(600,e),T.x=e.screen.width,T.y=o-T.height,A.x=e.screen.width+g(40,e),A.y=o-A.height,_.anchor.set(.5,0),m.anchor.set(.5,0),_.y=o-_.height,m.y=o-m.height;const U=e.screen.width+g(1180,e);_.x=U;const fe=(U-e.screen.width/2)/h;m.x=e.screen.width/2+fe*(h+.02),E.x=e.screen.width+g(1280,e),E.y=o-E.height,R.x=e.screen.width+g(1550,e),R.y=o-R.height+60,r.addParallaxChild(new l(S,h)),r.addParallaxChild(new l(C,h)),r.addParallaxChild(new l(A,N)),r.addParallaxChild(new l(T,N+.03)),r.addParallaxChild(new l(_,h)),r.addParallaxChild(new l(m,h+.02)),r.addParallaxChild(new l(E,h)),r.addParallaxChild(new l(R,h));const Y=pe.map((c,f)=>{let w=c[0],Ee=c[1];w.anchor.set(.5);let j=null;j=Oe(.4,w,e),w.x=(f+1)*g(180,e)+e.screen.width,w.y=e.screen.height/2.7;const q=new l(w,X);return r.addParallaxChild(q),Be(w,Ee,j),q});let ye=Y.slice(-1)[0].sprite;Y.slice(-1)[0].sprite;const Se=ye.x,Ce=e.screen.width/2,Te=(Se-Ce)/X,Ae=document.getElementById("scroll-buffer");Ae.style.height=`${Te}px`;const B=.2,K=145;i.anchor.set(0,1),i.y=o-k*d.tileScale.y+K*d.tileScale.y+20,i.x=e.screen.width*.08,e.screen.height>e.screen.width&&(i.x=e.screen.width*.03),i.animationSpeed=B,i.play(),n.anchor.set(0,1),n.y=o-k*d.tileScale.y+K*d.tileScale.y,n.x=e.screen.width*.12,e.screen.height>e.screen.width&&(n.x=e.screen.width*.2),n.animationSpeed=B-.05,n.play(),n.animationSpeed=B-.05,n.play(),e.stage.addChild(H);for(const c of r.parallaxChildren())e.stage.addChild(c);e.stage.addChild(d),e.stage.addChild(n),e.stage.addChild(i);let V=0,W=0,M=null,F=!1;requestAnimationFrame(z);function z(){V=window.scrollY;const c=Math.max(0,V-ge-we),f=c-W;W=c,d.tilePosition.x-=f*_e,H.tilePosition.x-=f*me,r.moveX(-f)}window.addEventListener("scroll",()=>{clearTimeout(M),F||(i.textures=b.walking,i.play(),n.textures=v.walking,n.play(),F=!0),M=setTimeout(()=>{i.textures=b.idle,i.play(),n.textures=v.idle,n.play(),F=!1},150),requestAnimationFrame(z)})})();
