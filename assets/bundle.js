import{C as Z,_ as fe,A as _e,l as C,a as me,b as s,S as n,c as w,g as q,d as u,e as Q,s as Te,G as B,T as Se}from"./bundle2.js";class Pe{constructor(t=null){this._parallaxChildren=t||[]}addParallaxChild(t){this._parallaxChildren.push(t)}parallaxChildren(){return this._parallaxChildren}moveX(t){for(const a of this._parallaxChildren)a instanceof d&&a.moveParallaxSpriteX(t)}}class d extends Z{constructor(t,a=1){super(),this._parallaxFactor=a,this._sprite=t,t&&this.addChild(this._sprite)}moveParallaxSpriteX(t){this.x+=t*this._parallaxFactor}}async function Ce(e){var t;const a={importPixi:!1,...e};a.app&&(a.renderer=a.app.renderer,a.stage=a.app.stage),a.importPixi&&!a.pixi&&(a.pixi=await fe(()=>import("./bundle2.js").then(f=>f.w),[])),window.__PIXI_DEVTOOLS__={...window.__PIXI_DEVTOOLS__||{},app:a.app,stage:a.stage,renderer:a.renderer,extensions:[...((t=window.__PIXI_DEVTOOLS__)==null?void 0:t.extensions)||[],...a.extensions||[]],plugins:{}}}function ye(e,t,a){const y=new B().rect(-e.texture.width/2,-e.texture.height/2,e.texture.width,e.texture.height).stroke({width:64,color:16777215,join:"round"}),_=new B().rect(-400/2,e.texture.height/2,400,1e4).fill(16777215),c=new Se({text:t,style:{fill:"#000000",fontSize:20*(1/a),align:"center",wordWrap:!0,wordWrapWidth:e.texture.width+64-64},anchor:{x:.5,y:0}}),E=new B().rect(-c.width/2+-64,0,c.width+64*2,c.height+64*2).fill(16777215),h=new Z;h.anchor={x:.5,y:0},h.y+=e.texture.height/2,c.y+=64,h.addChild(E),h.addChild(c),e.addChild(y),e.addChild(_),e.addChild(h)}(async()=>{const e=new _e;let t=document.getElementById("stage");await e.init({background:"#1099bb",resizeTo:t,autoDensity:!0,antialiasing:!1,hello:!0}),Ce({app:e}),console.log("Device Pixel Ratio:",window.devicePixelRatio),console.log("PixiJS Renderer Resolution:",e.renderer.resolution),t.appendChild(e.canvas);const a=await C("/assets/rachel_idle.json"),f=await C("/assets/rachel_walk.json"),F=await C("/assets/ben_idle.json"),y=await C("/assets/ben_walk.json"),_=await me(),c=await s.load("/assets/formal1.JPG"),E=new n(await s.load("/assets/camp2.JPG")),h=new n(await s.load("/assets/bus3.JPG")),$=new n(await s.load("/assets/grad4.JPG")),ee=new n(await s.load("/assets/grad5.JPG")),ae=new n(await s.load("/assets/park6.JPG")),te=new n(await s.load("/assets/hayes7.JPG")),se=new n(await s.load("/assets/hayesformal8.JPG")),ne=new n(await s.load("/assets/mattress9.JPG")),oe=new n(await s.load("/assets/pergola10.JPG")),ie=new n(await s.load("/assets/proposal11.JPG")),le=new n(await s.load("/assets/goodbye11.JPG")),re=new n(await s.load("/assets/europe.JPG")),H=await s.load("/assets/chicago.png"),J=await s.load("/assets/paintedladies.png"),M=await s.load("/assets/deering.png"),X=await s.load("/assets/weber.png"),Y=await s.load("/assets/958.png"),m=await s.load("/assets/eiffel.json");m.textures["eiffel (Flattened).aseprite"].baseTexture.scaleMode=w.NEAREST,m.textures["eiffel (tower).aseprite"].baseTexture.scaleMode=w.NEAREST,H.baseTexture.scaleMode=w.NEAREST,M.baseTexture.scaleMode=w.NEAREST,X.baseTexture.scaleMode=w.NEAREST,J.baseTexture.scaleMode=w.NEAREST,Y.baseTexture.scaleMode=w.NEAREST;const A={idle:a,walking:f},R={idle:F,walking:y},i=new Pe,l=q(A.idle,e),o=q(R.idle,e),de=[[new n(c),"2017: Ben and Rachel meet at Northwestern (RIP La Mach)."],[E,"They go on a few adventures (including Ben’s first camping trip)."],[h,"They share a lot of laughs and made a lot of good memz."],[$,"In 2019, Ben graduates and moves to San Francsico."],[ee,"2020: Rachel graduates and “temporarily” moves to SF because of COVID."],[ae,"Lots of good park hangs during the Pandemic."],[te,"2021: Ben and Rachel moves into the Hayes House with 7 other friends. Chaos and lifelong friendships ensue. "],[re,"2022: The couple travel through Europe for 3 months, London, Paris, Barcelona."],[se,"The Era of Hayes House comes to a close."],[ne,"Late 2023, Ben and Rachel move in together, carrying their mattress across Alamo Square."],[oe,"In Rachel and Ben's new home, a pergola is built. Only takes a few weeks and a lot of free labor from friends."],[ie,"In December of 2023, the Perg Prosposal happens. It's a perfect moment in the new home captured by a few sneaky hidden cameras."],[le,"We’re so excited to celebrate with you all at Sato Somer Camp <3"]],b=u(H,e),I=u(J,e),G=u(X,e),O=u(M,e),D=u(Y,e),N=u(m.textures["eiffel (tower).aseprite"],e),k=u(m.textures["eiffel (Flattened).aseprite"],e),g=Q(_.textures["grassy (Grass).aseprite"],e),T=Q(_.textures["grassy (Sky).aseprite"],e),r=e.screen.height*2,ce=.3,x=.2,K=.23,he=.25,we=.02;g.y=30,b.y=-90,b.x=r+500,I.y=-100,I.x=r+3e3,G.x=r,G.y=e.screen.height*.45,O.x=r+200,O.y=e.screen.height*.35,N.y=-100,k.y=-110,N.x=r+5200,k.x=r+5200+(r+5200)*.02+550,D.x=r+6400,D.y=e.screen.height*.19,i.addParallaxChild(new d(b,x)),i.addParallaxChild(new d(I,x)),i.addParallaxChild(new d(O,K)),i.addParallaxChild(new d(G,K+.03)),i.addParallaxChild(new d(N,x)),i.addParallaxChild(new d(k,x+.02)),i.addParallaxChild(new d(D,x));const ue=de.map((P,ge)=>{let p=P[0],xe=P[1];p.anchor.set(.5);let V=null;V=Te(.4,p,e),p.x=(ge+1)*900+r,p.y=e.screen.height/2.7;const z=new d(p,he);return i.addParallaxChild(z),ye(p,xe,V),z}),W=.2;l.anchor.set(0,1),l.y=e.screen.height*.97,l.x=e.screen.width*.1,l.animationSpeed=W,l.play(),o.anchor.set(0,1),o.y=e.screen.height*.95,o.x=e.screen.width*.15,o.animationSpeed=W-.05,o.play(),e.stage.addChild(T);for(const P of i.parallaxChildren())e.stage.addChild(P);e.stage.addChild(g),e.stage.addChild(o),e.stage.addChild(l);function pe(){g.width=e.screen.width,g.height=e.screen.height,T.width=e.screen.width,T.height=e.screen.height,v()}e.renderer.on("resize",pe),document.documentElement.scrollHeight-document.documentElement.clientHeight,document.getElementById("preamble").clientHeight;let j=0,S=0,U=null,L=!1;requestAnimationFrame(v);function v(){S=window.scrollY-j,j=window.scrollY,console.log("ben: "+o.getGlobalPosition().x),console.log("last: "+ue.slice(-1)[0].getGlobalPosition().x),g.tilePosition.x-=S*ce,T.tilePosition.x-=S*we,i.moveX(-S)}window.addEventListener("scroll",()=>{clearTimeout(U),L||(l.textures=A.walking,l.play(),o.textures=R.walking,o.play(),L=!0),U=setTimeout(()=>{l.textures=A.idle,l.play(),o.textures=R.idle,o.play(),L=!1},150),requestAnimationFrame(v)})})();
