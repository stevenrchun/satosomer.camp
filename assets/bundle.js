import{C as $,_ as Se,A as Te,a as Ae,S as Pe,g as _,b as n,c as q,d as h,e as J,p as d,s as Ee,G as B,T as Ie}from"./bundle2.js";class Re{constructor(a=null){this._parallaxChildren=a||[]}addParallaxChild(a){this._parallaxChildren.push(a)}parallaxChildren(){return this._parallaxChildren}moveX(a){for(const t of this._parallaxChildren)t instanceof l&&t.moveParallaxSpriteX(a)}}class l extends ${constructor(a,t=1){super(),this._parallaxFactor=t,this.sprite=a,a&&this.addChild(this.sprite)}moveParallaxSpriteX(a){this.x+=a*this._parallaxFactor}}async function De(e){var a;const t={importPixi:!1,...e};t.app&&(t.renderer=t.app.renderer,t.stage=t.app.stage),t.importPixi&&!t.pixi&&(t.pixi=await Se(()=>import("./bundle2.js").then(m=>m.w),[])),window.__PIXI_DEVTOOLS__={...window.__PIXI_DEVTOOLS__||{},app:t.app,stage:t.stage,renderer:t.renderer,extensions:[...((a=window.__PIXI_DEVTOOLS__)==null?void 0:a.extensions)||[],...t.extensions||[]],plugins:{}}}function be(e,a,t){const f=new B().rect(-e.texture.width/2,-e.texture.height/2,e.texture.width,e.texture.height).stroke({width:64,color:16777215,join:"round"}),y=new B().rect(-400/2,e.texture.height/2,400,1e4).fill(16777215),u=new Ie({text:a,style:{fill:"#000000",fontSize:20*(1/t),align:"center",wordWrap:!0,wordWrapWidth:e.texture.width+64-64},anchor:{x:.5,y:0}}),C=new B().rect(-u.width/2+-64,0,u.width+64*2,u.height+64*2).fill(16777215),x=new $;x.anchor={x:.5,y:0},x.y+=e.texture.height/2,u.y+=64,x.addChild(C),x.addChild(u),e.addChild(f),e.addChild(y),e.addChild(x)}(async()=>{const e=new Te;let a=document.getElementById("stage");await e.init({background:"#1099bb",resizeTo:a,autoDensity:!0,antialiasing:!1,hello:!0}),De({app:e}),console.log("Device Pixel Ratio:",window.devicePixelRatio),console.log("PixiJS Renderer Resolution:",e.renderer.resolution),console.log("App.Screen.Height:",e.screen.height),console.log("App.Screen.width:",e.screen.width),a.appendChild(e.canvas);const t=await Ae.load("/assets/sprites-sheet.json");t._frameKeys.map(c=>{t.textures[c].baseTexture.scaleMode=Pe.NEAREST});const m=_(t,"rachel_idle"),L=_(t,"rachel_walk"),f=_(t,"ben_idle"),y=_(t,"ben_walk"),u=new n(t.textures["formal1-0"]),C=new n(t.textures["camp2-0"]),x=new n(t.textures["bus3-0"]),Q=new n(t.textures["ben_grad-0"]),Z=new n(t.textures["rachel_grad-0"]),ee=new n(t.textures["park6-0"]),te=new n(t.textures["hayes7-0"]),ae=new n(t.textures["hayesformal8-0"]),ne=new n(t.textures["mattress9-0"]),se=new n(t.textures["pergola10-0"]),re=new n(t.textures["proposal11-0"]),oe=new n(t.textures["goodbye11-0"]),ie=new n(t.textures["europe-0"]),le=t.textures["chicago-0"],ce=t.textures["paintedladies-0"],de=t.textures["deering-0"],he=t.textures["weber-0"],ue=t.textures["958-0"],S={idle:m,walking:L},T={idle:f,walking:y},s=new Re,r=q(S.idle,e),o=q(T.idle,e),xe=[[u,"2017: Ben and Rachel meet at Northwestern (RIP La Mach)."],[C,"They go on a few adventures (including Ben’s first camping trip)."],[x,"They share a lot of laughs and made a lot of good memz."],[Q,"In 2019, Ben graduates and moves to San Francsico."],[Z,"2020: Rachel graduates and “temporarily” moves to SF because of COVID."],[ee,"Lots of good park hangs during the Pandemic."],[te,"2021: Ben and Rachel moves into the Hayes House with 7 other friends. Chaos and lifelong friendships ensue. "],[ie,"2022: The couple travel through Europe for 3 months, London, Paris, Barcelona."],[ae,"The Era of Hayes House comes to a close."],[ne,"Late 2023, Ben and Rachel move in together, carrying their mattress across Alamo Square."],[se,"In Rachel and Ben's new home, a pergola is built. Only takes a few weeks and a lot of free labor from friends."],[re,"In December of 2023, the Perg Prosposal happens. It's a perfect moment in the new home captured by a few sneaky hidden cameras."],[oe,"We’re so excited to celebrate with you all at Sato Somer Camp <3"]],A=h(le,e),P=h(ce,e),E=h(he,e),I=h(de,e),R=h(ue,e),D=h(t.textures["eiffel-0"],e),b=h(t.textures["bushes-0"],e),O=J(t.textures["grassy-0"],e),H=J(t.textures["sky-0"],e),v=h(t.textures["perg-0"],e);document.documentElement.scrollHeight-document.documentElement.clientHeight;const N=document.getElementById("preamble").clientHeight,F=document.getElementById("transition-id").clientHeight,i=F+N,pe=.3,p=.2,G=.23,X=.25,ge=.02;O.y=30,A.y=-90,A.x=i+d(100,e),P.y=-100,P.x=i+d(600,e),E.x=i,E.y=e.screen.height*.45,I.x=i+d(40,e),I.y=e.screen.height*.35,D.y=-100,b.y=-110,D.x=i+d(1060,e),b.x=i+d(1060,e)+(i+d(1060,e))*.02+550,R.x=i+d(1280,e),R.y=e.screen.height*.23,v.x=i+d(1550,e),v.y=e.screen.height*.45,s.addParallaxChild(new l(A,p)),s.addParallaxChild(new l(P,p)),s.addParallaxChild(new l(I,G)),s.addParallaxChild(new l(E,G+.03)),s.addParallaxChild(new l(D,p)),s.addParallaxChild(new l(b,p+.02)),s.addParallaxChild(new l(R,p)),s.addParallaxChild(new l(v,p));const Y=xe.map((c,w)=>{let g=c[0],Ce=c[1];g.anchor.set(.5);let z=null;z=Ee(.4,g,e),g.x=(w+1)*d(180,e)+i,g.y=e.screen.height/2.7;const j=new l(g,X);return s.addParallaxChild(j),be(g,Ce,z),j});let we=Y.slice(-1)[0].sprite;Y.slice(-1)[0].sprite;const me=we.x,_e=e.screen.width/2,fe=(me-_e)/X,ye=document.getElementById("scroll-buffer");ye.style.height=`${fe}px`;const K=.2;r.anchor.set(0,1),r.y=e.screen.height*.97,r.x=e.screen.width*.08,e.screen.height>e.screen.width&&(r.x=e.screen.width*.03),r.animationSpeed=K,r.play(),o.anchor.set(0,1),o.y=e.screen.height*.95,o.x=e.screen.width*.12,e.screen.height>e.screen.width&&(o.x=e.screen.width*.2),o.animationSpeed=K-.05,o.play(),e.stage.addChild(H);for(const c of s.parallaxChildren())e.stage.addChild(c);e.stage.addChild(O),e.stage.addChild(o),e.stage.addChild(r);let W=0,M=0,U=null,k=!1;requestAnimationFrame(V);function V(){W=window.scrollY;const c=Math.max(0,W-N-F),w=c-M;M=c,O.tilePosition.x-=w*pe,H.tilePosition.x-=w*ge,s.moveX(-w)}window.addEventListener("scroll",()=>{clearTimeout(U),k||(r.textures=S.walking,r.play(),o.textures=T.walking,o.play(),k=!0),U=setTimeout(()=>{r.textures=S.idle,r.play(),o.textures=T.idle,o.play(),k=!1},150),requestAnimationFrame(V)})})();
